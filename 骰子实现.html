<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>骰子转动</title>
    <style>
        *{
            margin: 0px;
            padding: 0px;
        }
        .parent{
            width: 100px;
            height: 100px;
            background-color: darkgray;
        }
        .son{
            width: 100%;
            height: 33.33%;
            display: flex;
            justify-content: space-between;

        }
     
        .s2{
            /* background-color: green; */
            align-items: center;
        }
        .s3{
            /* background-color: blue; */
            align-items: flex-end;
        }
        .child{
            width: 28%;
            height: 90%;
           
            border-radius: 50%;
        }
      .c1{
          background-color: black;
      }
      button{
          margin-left: 5px;
          margin-right: 5px;
      }
      #start{
          width: 40px;
          height: 20px;
          background-color: blanchedalmond;
          
      }
      #stop{
        width: 40px;
          height: 20px;
          background-color: blanchedalmond;
      }
    </style>
</head>
<body>

    <div class="parent">
        <div class="son ">
            <div class="child  "></div>
            <div class="child"></div>
            <div class="child"></div>
        </div>
        <div class="son s2">
            <div class="child "></div>
            <div class="child "></div>
            <div class="child "></div>
        </div>
        <div class="son s3">
            <div class="child "></div>
            <div class="child "></div>
            <div class="child "></div>
        </div>
    </div>
    <button id="start" value="转动" >转动</button>
    <button id="stop" value="转动">停止</button>

    
</body>


<script type="text/javascript">
      var start = document.getElementById("start");
    //   var stop = document.getElementById("stop");
    var stop1 = document.getElementById("stop");
      var sons = document.getElementsByClassName("son");

    //   while(true){

    //   }
    var s = 0
      start.onclick = function(){
           s = setInterval(randrun,100);
          
        // s = setTimeout(function(){console.log(1)},1000);
      }
      stop1.onclick = function(){
          clearInterval(s);
      }
      function randrun(){
          var randnum = (Math.round(Math.random()*100)%6)+1;
        // console.log(randnum);
        clearup();
        switch(randnum){
            case 1:
              one();break;
            case 2:
              two();break;
            case 3:
               three();break;
            case 4:
               four();break;
            case 5:
               five();break;
            case 6:
               six();break;
        }
        
      }
      
      function one(){
          sons[1].getElementsByClassName("child")[1].setAttribute("class"," child c1");
      }
      function two(){
          sons[0].getElementsByClassName("child")[0].setAttribute("class"," child c1");
          sons[2].getElementsByClassName("child")[2].setAttribute("class"," child c1");
      }
      function three(){
          one();
          two();
      }
      function four(){
        sons[0].getElementsByClassName("child")[0].setAttribute("class"," child c1");
        sons[0].getElementsByClassName("child")[2].setAttribute("class"," child c1");
        sons[2].getElementsByClassName("child")[0].setAttribute("class"," child c1");
        sons[2].getElementsByClassName("child")[2].setAttribute("class"," child c1");
      }

      function five(){
          one();
          four();
      }
      function six(){
        sons[1].getElementsByClassName("child")[0].setAttribute("class"," child c1");
        sons[1].getElementsByClassName("child")[2].setAttribute("class"," child c1");
        four();
      }

      function clearup(){
          for(var i=0;i<3;i++){
              var childcs = sons[i].getElementsByClassName("child");
              for(var j=0; j<childcs.length;j++){
                if(childcs[j].classList.contains("c1")){
                       childcs[j].setAttribute("class","child");
                }
              }
          }
      }
      
</script>
</html>